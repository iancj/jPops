jQuery.jPop=function(i){var d={verticalOffset:-75,horizontalOffset:0,repositionOnResize:true,overlayOpacity:0.5,overlayColor:"#000",okButton:"\u786e\u5b9a",okButtonClass:"btn btn-primary",cancelButton:"\u53d6\u6d88",cancelButtonClass:"btn",type:"alert",title:"alert",content:"",value:"",messageOpts:{type:"info",timing:1500},callback:function(){}},a=$.extend(d,i);switch(a.type){case"alert":case"confirm":case"prompt":g(a.title,a.content,a.value,a.type,a.callback);break;case"message":b(a.content,a.messageOpts.timing,a.messageOpts.type,a.callback);break}function g(m,l,k,j,o){h();f("show");$("body").append('<div id="popup_container"><h1 id="popup_title"></h1><a href="javascript:;" class="popupIcon"><i class="gicon-remove white"></i></a><div id="popup_content"><div id="popup_message"></div></div></div>');$("#popup_container .popupIcon").click(h);var n=($.browser.msie&&parseInt($.browser.version)<=6)?"absolute":"fixed";$("#popup_container").css({position:n,zIndex:99999});$("#popup_title").text(m);$("#popup_content").addClass(j);$("#popup_message").html(l);c();e(true);switch(j){case"alert":$("#popup_message").after('<div id="popup_panel"><input type="button" class="'+a.okButtonClass+'" value="'+a.okButton+'" id="popup_ok" /></div>');$("#popup_ok").click(function(){h();o(true)});break;case"confirm":$("#popup_message").after('<div id="popup_panel"><input type="button" class="'+a.okButtonClass+'" value="'+a.okButton+'" id="popup_ok" /> <input type="button" class="'+a.cancelButtonClass+'" value="'+a.cancelButton+'" id="popup_cancel" /></div>');$("#popup_ok").click(function(){h();if(o){o(true)}});$("#popup_cancel").click(function(){h();if(o){o(false)}});break;case"prompt":$("#popup_message").append('<div><input type="text" id="popup_prompt" /></div>').after('<div id="popup_panel"><input type="button" class="'+a.okButtonClass+'" value="'+a.okButton+'" id="popup_ok" /> <input type="button" class="'+a.cancelButtonClass+'" value="'+a.cancelButton+'" id="popup_cancel" /></div>');$("#popup_prompt").width($("#popup_message").width());$("#popup_ok").click(function(){var p=$("#popup_prompt").val();h();if(o){o(p)}});$("#popup_cancel").click(function(){h();if(o){o(null)}});if(k){$("#popup_prompt").val(k)}$("#popup_prompt").focus().select();break}a.okButton="\u786e\u5b9a";a.cancelButton="\u53d6\u6d88"}function b(m,l,k,o){if($("#jPop_msg").length!=1){$("body").append("<div id='jPop_msg'></div>");var n=($.browser.msie&&parseInt($.browser.version)<=6)?"absolute":"fixed";$("#jPop_msg").hide().css({position:n,zIndex:99999})}if(window.jPopTimer){clearTimeout(window.jPopTimer)}var j=$("#jPop_msg");j.text(m).removeClass("info warning success danger").addClass(k).fadeIn(500);c(j);window.jPopTimer=setTimeout(function(){j.fadeOut(500)},l);if(o){o(true)}}function h(){$("#popup_container").remove();f("hide");e(false)}function f(j){switch(j){case"show":f("hide");$("body").append('<div id="popup_overlay"></div>');$("#popup_overlay").css({position:"absolute",zIndex:99998,top:"0px",left:"0px",width:"100%",height:$(document).height(),background:a.overlayColor,opacity:a.overlayOpacity});break;case"hide":$("#popup_overlay").remove();break}}function c(l){if(!l){l=$("#popup_container")}var k=(($(window).height()/2)-(l.outerHeight()/2))+a.verticalOffset;var j=(($(window).width()/2)-(l.outerWidth()/2))+a.horizontalOffset;if(k<0){k=0}if(j<0){j=0}if($.browser.msie&&parseInt($.browser.version)<=6){k=k+$(window).scrollTop()}l.css({top:k+"px",left:j+"px"});$("#popup_overlay").height($(document).height())}function e(j){if(a.repositionOnResize){switch(j){case true:$(window).bind("resize",c);break;case false:$(window).unbind("resize",c);break}}}};
